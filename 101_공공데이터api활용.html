<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/jquery-1.12.4.min.js"></script>
    <style>
        * {margin:0; padding:0; box-sizing:border-box }
        .box { max-width:500px; margin:0 auto }
        table { width:100%; border-collapse:collapse }
        th, td { border:1px solid #000; padding:10px  }
        col:nth-child(1) { width:70% }
        col:nth-child(2) { width:30% }
    </style>
</head>
<body>

    <div class="box">
        <!-- <table>
            <colgroup>
                <col>
                <col>
            </colgroup>
            <tr>
                <th>교통사고종류</th>
                <th>사고건수</th>
            </tr>
            <tr>
                <td>전체사고</td>
                <td>3722건</td>
            </tr>
        </table> -->
    </div>

    
    <script>
        $.ajax({
            type:'GET',
            url:'https://apis.data.go.kr/B552061/lgStat/getRestLgStat?serviceKey=tsxcXyzF%2BXgzdg7s3iUG9BMSxzhXszdC68k9VquGWo9zq657lbmJPTjMzeWFsX5JhFXJvf8Yfgeh56Vou5hiog%3D%3D&searchYearCd=2019&siDo=1100&guGun=1116&type=json&numOfRows=10&pageNo=1',
            dataType:'json',
            success : function(rdata){
                console.log(rdata)
                usedata(rdata.items.item)
            },
            error : function(xhr){
                alert(xhr.status + "/" + xhr.errorText)
            }
        })

        function usedata(data){
            let table = `<table>`
            table += `<colgroup><col><col></colgroup>`
            table += `<tr><th>교통사고종류</th><th>사고건수</th></tr>`
            data.map(function(value, index){
                console.log(value, index)
                table += `<tr>`
                table += `<td>${value.acc_cl_nm}</td>`
                table += `<td>${value.acc_cnt}</td>`
                table += `</tr>`
            })    
            table += `</table>`
            $('.box').append(table)
        }


    </script>

</body>
</html>